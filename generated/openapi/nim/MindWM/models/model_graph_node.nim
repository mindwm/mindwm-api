#
# Mindwm API
# 
# This document describes the documentation, a collection of JSON schemas and example cloudevent and payloads
# The version of the OpenAPI document: 0.1.0
# 
# Generated by: https://openapi-generator.tech
#

import json
import tables

import model_any_type
import model_graph_node_all_of_data

type Source* {.pure.} = enum
  Node
  Relationship

type `Type`* {.pure.} = enum
  Created
  Updated
  Deleted

type GraphNode* = object
  ## 
  id*: string ## Identifies the event.
  source*: Source
  specversion*: string ## The version of the CloudEvents specification which the event uses.
  `type`*: `Type`
  datacontenttype*: string ## Content type of the data value. Must adhere to RFC 2046 format.
  dataschema*: string ## Identifies the schema that data adheres to.
  subject*: string ## Describes the subject of the event in the context of the event producer (identified by source).
  time*: string ## Timestamp of when the occurrence happened. Must adhere to RFC 3339.
  data*: GraphNode_allOf_data
  dataBase64*: string ## Base64 encoded event payload. Must adhere to RFC4648.

func `%`*(v: Source): JsonNode =
  let str = case v:
    of Source.Node: "graph.node"
    of Source.Relationship: "graph.relationship"

  JsonNode(kind: JString, str: str)

func `$`*(v: Source): string =
  result = case v:
    of Source.Node: "graph.node"
    of Source.Relationship: "graph.relationship"

func `%`*(v: `Type`): JsonNode =
  let str = case v:
    of `Type`.Created: "created"
    of `Type`.Updated: "updated"
    of `Type`.Deleted: "deleted"

  JsonNode(kind: JString, str: str)

func `$`*(v: `Type`): string =
  result = case v:
    of `Type`.Created: "created"
    of `Type`.Updated: "updated"
    of `Type`.Deleted: "deleted"
